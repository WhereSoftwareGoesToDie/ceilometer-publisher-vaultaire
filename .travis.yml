language: python

env:
  - 'UBUNTU_RELEASE=trusty'

python:
  - 2.7

install:
  - sudo pip install cffi six
  - sudo add-apt-repository -y "deb http://archive.ubuntu.com/ubuntu/ ${UBUNTU_RELEASE} main universe"
  - sudo apt-get update
  - sudo apt-get install python-ceilometer
  - sudo apt-get install libglib2.0-dev
  - git clone https://github.com/anchor/libmarquise.git ../libmarquise/
  - cd ../libmarquise/
  - autoreconf -i
  - ./configure
  - make
  - sudo make install
  - sudo su -c "echo '/usr/local/lib' > /etc/ld.so.conf.d/local.conf"
  - sudo ldconfig
  - cd -

script:
  - sudo python setup.py install
